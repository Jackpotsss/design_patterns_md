# 面向对象（OO）

​	OOP（Object Oriented Programming）即面向对象编程，是软件编程发展到一定阶段的产物。现在面向对象的编程技术已经非常成熟并且广泛应用。像C++、Java 、C#、Python、PHP、JavaScript等都是面向对象的计算机编程语言。

## 三大特性

面向对象编程的三大特性是封装、继承、多态。

### 封装



Java的封装很大一部分依靠访问修饰符来完成，Java有四种访问修饰符。

| 访问修饰符 | 权限                   |
| ---------- | ---------------------- |
| private    | 只能在本类中访问       |
| 缺省       | 只能在本包中访问       |
| protected  | 只能在本包或子类中访问 |
| public     | 任何类都可以访问       |

另外 `final` 关键字可以用来限制继承的重写行为，即final 修饰的方法，子类不可以重写。



### 继承

类可以继承普通类或抽象类，接口可以继承接口，类可以实现多个接口，但只能继承一个类（单继承）。

继承是实现代码复用的一种方式。



### 多态









## 设计原则

​	在学习设计原则之前有必要先讲一个哲学真理，那就是世界上唯一不变的事情是什么？答案是改变（Change）。**世界上唯一不变的是改变**。软件工程源于人们的需求，尽管最开始对于软件提供的功能很满意，但随着时间的推移和业务的变化，现有的功能不再适用，人门的需求会一直变化。

​	在软件开发的整个生命周期中，**软件开发完成后需要的时间要远大于软件开发完成前的时间**。我们总是需要花费大量的时间在系统维护和变化上，比原先开发花的时间更多。所以提高系统的可维护性和可扩展性就显得尤为重要。



面向对象程序设计的五大基本原则：

1. 单一责任原则
2. 开放封闭原则
3. 里氏替换原则
4. 依赖倒置原则
5. 接口分离原则



### 单一职责原则

​	单一职责指的是一个类的功能要单一，不能包罗万象。





### 开放封闭原则

​	**一个模块应该对扩展开放，对修改关闭。** 





### 里氏替换原则

换句话说，子类可以拓展父类的功能，但不能改变父类原有的功能。



### 依赖倒置原则

要依赖抽象，不要依赖具体实现。





### 接口分离原则

​	模块之间要通过抽象的接口隔离开，不能通过具体的类强耦合起来。





设计原则：

1. 找出应用中可能需要变化的地方，把它们独立出来，不要和那些不变的代码混在一起。

2. 针对接口编程，而不是针对实现编程；
3. 多用组合，少用继承；
4. 为了交互对象之间的松耦合设计而努力；
5. 类应该对扩展开放，对修改关闭；
6. 要依赖抽象，不要依赖具体类；
7. 最少知识原则，只和你的密友谈话；
8. 别调用我们，我们会调用你；
9. 一个类应该只有一个引起变化的原因；



设计原则一：

把会变化的部分提取并封装起来，以便以后可以轻易的改动或扩展此部分，而不影响不需要变化的其他部分。

换句话说，如果每次新的需求一来，都会使某方面的代码发生变化，那么你就可以确定，这部分代码是需要被抽出来的，和其他稳定的代码有所区分。

这个概念很简单，几乎是每个设计模式背后的精神所在，所有的模式都提供了一套方法让“系统中某部分的改变不会影响其他部分”。



设计原则二：

针对接口编程，而不是针对实现编程；

“针对接口编程” 的真正意思是 “针对超类型编程”，可以明确的说成，变量的声明类型应该是超类型，通常是一个接口或抽象类。





设计原则九：

内聚和耦合



**高内聚，低耦合** 

如果一个类只有一个功能，那么这便属于高内聚，“高内聚，低耦合”我们常听说，

通常程序结构中各个模块的内聚程度越高，模块间的耦合度就越低。一个好的内聚模块应该只做一件事情，它描述的是模块内的功能联系；耦合是功能模块之间相互连接的一种度量，如果模块之间的连带关系多，连接度高的话，那么这就属于高耦合的设计。



**设计原则和设计模式** 

​	这些设计原则不是设计模式，但众多设计模式也都在遵循这些设计原则，当你不知道当前业务场景使用什么设计模式合适时，遵循这些优秀的设计原则，同样可以帮助到你设计出良好的程序。

​	有些时候，没有必要使用设计模式，使用良好的OO设计原则就可以很好的解决问题，这样其实就已经足够了。

​	单纯在字面上不容易理解这些设计原则，这是很正常的，毕竟这些设计原则是在长期的OOP实践中总结出来的精华，精华哪有这么好吸收的。在具体的设计模式中去感受它们会有更好的效果，通常一个设计模式会遵循一个或多个设计原则，当你能清楚的找出设计模式中所遵循的设计原则时，你就已经入门了。

​	可以把设计模式和设计原则理解成武功里的招式和心法，设计模式是招式，学会它可以让你在实际场景中运用起来，设计原则是心法，学会它可以让你灵活应对不同的场景。然而二者是相辅相成的关系，招式源于心法，只有招式没有心法，难免有些死板；而招式也是心法的一种有形体现，只有心法没有招式也只能站着背诵课本，不能发挥出实际效果。招式需要练，心法需要悟。



## 设计模式

### 编程语言发展

​	本文所讲的设计模式只针对于**面向对象**的编程语言，反言之，不是面向对象的编程语言则不适用于本文的设计模式（比如C语言）。

​	最早的计算机编程语言并不是面向对象的，而是机器语言，机器语言可以被机器直接识别并执行，后来出现汇编器和汇编语言，再后来才出现B语言和 C语言，C语言是面向过程的高级语言，至今仍被广泛应用于底层开发，如操作系统和数据库等。

​	但随着计算机技术的广泛普及，互联网应用飞速发展，需要更加高级和抽象的语言支撑日益复杂的业务场景，使用C语言开发底层程序确实有着不错的性能优势，但是用来开发大多数软件项目太吃力，开发和维护成本很高，于是面向对象的C++语言诞生，C++不仅包含了几乎所有的C语言功能，还添加了面向对象的设计，引入了类和对象的概念，这就使得软件开发容易了很多。

​	随后，面向对象的编程语言如雨后春笋般涌现，Java 、C#、Python、PHP、JavaScript等，同时管理内存的虚拟机技术也越来越成熟，很多语言在开发过程中根本不需要关心内存的分配和释放，由虚拟机根据算法自动管理内存，如Java语言的JVM。

​	本文使用Java语言讲述面向对象的设计模式。

### Design Patterns

​	软件设计模式这一术语是Erich Gamma 等人从**建筑设计领域**引入到计算机科学中来的。

​	1995年有四位博士合著了一本名叫《Design Patterns》的技术书籍（当年Java语言刚刚诞生），里面介绍了使用面向对象语言解决常见问题的23种设计模式，四位作者是国际上公认的面向对象软件领域的专家，自此树立起了**软件设计模式的里程碑**。这本书也被称为四人组设计模式、GoF设计模式（Gang of Four）。



<img src="https://gitee.com/Jackpotsss/pic_go/raw/master/img/image-20200729222936363.png" alt="image-20200729222936363" style="zoom:80%;" />



### 怎么看待设计模式

​	正如上文所说，最早的计算机编程语言不是面向对象的，更别提面向对象的设计模式了，所以现在开发人员口中的设计模式是在面向对象语言广泛普及后，并经过一段时间的摸索和积累，才总结出来的编程技巧。换言之，如果你面向对象玩的很溜，可以用精通来形容的话，那么你心中可以没有这些设计模式，毕竟这些都是招式，而招式就是原本没有，后来摸索并总结出来的经验和技巧，就像武侠小说里面的高手一样，武学的最高境界是没有招式的，无招胜有招。

​	可即便是高手，最开始也需要从一招一式学起，最初记住每一个招式，后面会熟练运用招式，再到最后，则会“忘了”这些招式，不去刻意的使用某一招，而是在恰当的时机信手拈来。这和学习设计模式是一样的，初学者应该认识常见的设计模式，先装入脑中，然后慢慢练习，以至于熟练使用它们，尽管这个过程中很有可能会生搬硬套，想在每一个可能的地方使用这些设计模式，但慢慢的就会控制自己，面对问题，不是急于使用这些设计模式，而是着手于把系统设计的更简单，更有弹性。

**设计模式和框架、类库** 

​	设计模式不会像框架和类库那样容易掌握，看过文档你就可以立即使用框架和类库做一些事情，有立竿见影的效果。但使用设计模式并不会这样，**设计模式首先不会直接进入你的代码，而是先进入你的脑子**，只有你的脑中装入很多关于模式的东西，才能够在应用中合理的使用它们。

​	设计模式比框架和类库等级更高，设计模式告诉我们如何组织类和对象以解决某种问题。尽管框架和类库本身的代码也会遵循设计原则，使用设计模式。但更多时候，更多的开发者是使用它们，而不是开发它们。



### 模式分类

​	既然软件设计模式是针对面向对象总结出来的，那么从面向对象的角度，可以将设计模式分为三大类：创造型模式，结构型模式和行为型模式。

<img src="https://gitee.com/Jackpotsss/pic_go/raw/master/img/image-20200729204522209.png" alt="image-20200729204522209" style="zoom:80%;" />

## UML 统一建模语言

UML（Unified Modeling Language）**统一建模语言**是面向对象设计的建模工具，独立于任何具体的程序设计语言。



UML 有三种主要的模型视图：

- 功能模型
- 对象模型
- 动态模型



**功能模型** 

​	从用户的角度展示系统功能。包括用例图。

**对象模型 ** 

​	采用类、对象、属性、方法、关联等概念展示系统的结构。包括类图和对象图。

**动态模型** 

​	展示系统的内部动态行为。包括时序图、活动图、状态图。



​	面向对象的建模和程序设计能力不是那么容易掌握的，它不像框架和类库那样几天或者几个星期就可以熟练使用，如何面向对象建模，如何设计程序需要大量的时间和精力去学习、思考和实践，才有可能掌握。这对于喜欢做有挑战性工作的开发人员来说是个值得兴奋的事情。



